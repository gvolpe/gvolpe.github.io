<!doctype html><html lang=en-us data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://gvolpe.com/images/favicon.png><title>Context bound vs Implicit evidence: Performance - Gabriel Volpe</title><meta name=description content="In a recent pull request review at work I suggested using context bound to declare effect capabilities instead of implicit values as this is what I see the most â€¦"><meta property="og:title" content="Context bound vs Implicit evidence: Performance"><meta property="og:description" content="In a recent pull request review at work I suggested using context bound to declare effect capabilities instead of implicit values as this is what I see the most â€¦"><meta property="og:type" content="article"><meta property="og:url" content="https://gvolpe.com/blog/context-bound-vs-implicit-evidence/"><meta property="og:site_name" content="Gabriel Volpe"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Context bound vs Implicit evidence: Performance"><meta name=twitter:description content="In a recent pull request review at work I suggested using context bound to declare effect capabilities instead of implicit values as this is what I see the most â€¦"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;700&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><link rel=stylesheet href=https://gvolpe.com/css/style.css></head><body><div class=reading-progress></div><main><div class="post-overlay active"><div class=post-overlay-backdrop></div><div class=post-overlay-content style=position:relative;min-height:100vh;padding:0;transform:translateY(0)><div class=post-overlay-header><div class=post-overlay-title><a href=/ class=overlay-site-title>Gabriel Volpe</a></div><button class=post-overlay-close aria-label="Close post" onclick='window.location.href="/"'>
<i class="fas fa-times"></i></button></div><div class=post-layout><article class=post-content><header class=post-header><div class=post-meta><span class=post-date>2019.03.12</span><div class=reading-time-post><span class=coffee-cups>ðŸ“šðŸ“šðŸ“šðŸ“šðŸ“š
</span><span>8 min read</span></div></div><h1 class=post-title>Context bound vs Implicit evidence: Performance</h1><div class=post-tags-header><a href=https://gvolpe.com/tags/scala class=post-tag>scala</a></div></header><div class=post-body><p>In a recent pull request review at work I suggested using context bound to declare effect capabilities instead of implicit values as this is what I see the most in OSS projects and it has also been my preference for a while. It makes the code look nicer even though the latter approach is equivalent. Context bound constraints get translated into implicits values at compile time.</p><h4 id=context-bound>Context bound</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>def</span> p1<span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>[</span><span style=color:#66d9ef>_</span><span style=color:#f92672>]</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Applicative:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>]</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>F</span><span style=color:#f92672>[</span><span style=color:#66d9ef>Unit</span><span style=color:#f92672>]</span> <span style=color:#66d9ef>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>].</span>putStrLn<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;a&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>*&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>].</span>putStrLn<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;b&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>*&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>].</span>putStrLn<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;c&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><h4 id=implicit-values>Implicit values</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>def</span> p2<span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>[</span><span style=color:#66d9ef>_</span><span style=color:#f92672>]](</span><span style=color:#66d9ef>implicit</span> ev<span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Applicative</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>],</span> c<span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>])</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>F</span><span style=color:#f92672>[</span><span style=color:#66d9ef>Unit</span><span style=color:#f92672>]</span> <span style=color:#66d9ef>=</span>
</span></span><span style=display:flex><span>  c<span style=color:#f92672>.</span>putStrLn<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;a&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>*&gt;</span>
</span></span><span style=display:flex><span>    c<span style=color:#f92672>.</span>putStrLn<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;b&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>*&gt;</span>
</span></span><span style=display:flex><span>    c<span style=color:#f92672>.</span>putStrLn<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;c&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>Every time we call <code>Console[F]</code> what we are doing is invoking the &ldquo;summoner&rdquo; method normally defined as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>object</span> <span style=color:#a6e22e>Console</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> apply<span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>[</span><span style=color:#66d9ef>_</span><span style=color:#f92672>]](</span><span style=color:#66d9ef>implicit</span> ev<span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>])</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>]</span> <span style=color:#66d9ef>=</span> ev
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>So the implicit value gets resolved at compile time only once, but we&rsquo;ve got to ask ourselves:</p><style>.quote::before{content:"ðŸ“œ"}</style><div class=quote><h4>Question</h4><p>"Is there any performance penalty introduced by the summoner?"</p></div><p>And I thought I knew the answer&mldr; But I wasn&rsquo;t very sure so that was a call for examining the JVM bytecode and see the differences!</p><h3 id=jvm-bytecode>JVM bytecode</h3><p>Here&rsquo;s the bytecode generated for both <code>p1</code> and <code>p2</code>. Let&rsquo;s take a look at the differences.</p><h4 id=context-bound-program>Context bound program</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#f92672>&lt;</span>F <span style=color:#66d9ef>extends</span> java.<span style=color:#a6e22e>lang</span>.<span style=color:#a6e22e>Object</span><span style=color:#f92672>&gt;</span> F <span style=color:#a6e22e>p1</span>(cats.<span style=color:#a6e22e>Applicative</span><span style=color:#f92672>&lt;</span>F<span style=color:#f92672>&gt;</span>, com.<span style=color:#a6e22e>github</span>.<span style=color:#a6e22e>gvolpe</span>.<span style=color:#a6e22e>Console</span><span style=color:#f92672>&lt;</span>F<span style=color:#f92672>&gt;</span>);
</span></span><span style=display:flex><span>  descriptor: (Lcats<span style=color:#f92672>/</span>Applicative;Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console;)Ljava<span style=color:#f92672>/</span>lang<span style=color:#f92672>/</span>Object;
</span></span><span style=display:flex><span>  flags: ACC_PUBLIC
</span></span><span style=display:flex><span>  Code:
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>=</span>4, locals<span style=color:#f92672>=</span>3, args_size<span style=color:#f92672>=</span>3
</span></span><span style=display:flex><span>       0: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>56                 <span style=color:#75715e>// Field cats/implicits$.MODULE$:Lcats/implicits$;</span>
</span></span><span style=display:flex><span>       3: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>56                 <span style=color:#75715e>// Field cats/implicits$.MODULE$:Lcats/implicits$;</span>
</span></span><span style=display:flex><span>       6: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>61                 <span style=color:#75715e>// Field com/github/gvolpe/Console$.MODULE$:Lcom/github/gvolpe/Console$;</span>
</span></span><span style=display:flex><span>       9: aload_2
</span></span><span style=display:flex><span>      10: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>65                 <span style=color:#75715e>// Method com/github/gvolpe/Console$.apply:(Lcom/github/gvolpe/Console;)Lcom/github/gvolpe/Console;</span>
</span></span><span style=display:flex><span>      13: ldc           <span style=color:#960050;background-color:#1e0010>#</span>67                 <span style=color:#75715e>// String a</span>
</span></span><span style=display:flex><span>      15: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>73,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      20: aload_1
</span></span><span style=display:flex><span>      21: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>77                 <span style=color:#75715e>// Method cats/implicits$.catsSyntaxApply:(Ljava/lang/Object;Lcats/Apply;)Lcats/Apply$Ops;</span>
</span></span><span style=display:flex><span>      24: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>61                 <span style=color:#75715e>// Field com/github/gvolpe/Console$.MODULE$:Lcom/github/gvolpe/Console$;</span>
</span></span><span style=display:flex><span>      27: aload_2
</span></span><span style=display:flex><span>      28: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>65                 <span style=color:#75715e>// Method com/github/gvolpe/Console$.apply:(Lcom/github/gvolpe/Console;)Lcom/github/gvolpe/Console;</span>
</span></span><span style=display:flex><span>      31: ldc           <span style=color:#960050;background-color:#1e0010>#</span>79                 <span style=color:#75715e>// String b</span>
</span></span><span style=display:flex><span>      33: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>73,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      38: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>82,  2           <span style=color:#75715e>// InterfaceMethod cats/Apply$Ops.$times$greater:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      43: aload_1
</span></span><span style=display:flex><span>      44: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>77                 <span style=color:#75715e>// Method cats/implicits$.catsSyntaxApply:(Ljava/lang/Object;Lcats/Apply;)Lcats/Apply$Ops;</span>
</span></span><span style=display:flex><span>      47: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>61                 <span style=color:#75715e>// Field com/github/gvolpe/Console$.MODULE$:Lcom/github/gvolpe/Console$;</span>
</span></span><span style=display:flex><span>      50: aload_2
</span></span><span style=display:flex><span>      51: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>65                 <span style=color:#75715e>// Method com/github/gvolpe/Console$.apply:(Lcom/github/gvolpe/Console;)Lcom/github/gvolpe/Console;</span>
</span></span><span style=display:flex><span>      54: ldc           <span style=color:#960050;background-color:#1e0010>#</span>84                 <span style=color:#75715e>// String c</span>
</span></span><span style=display:flex><span>      56: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>73,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      61: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>82,  2           <span style=color:#75715e>// InterfaceMethod cats/Apply$Ops.$times$greater:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      66: areturn
</span></span><span style=display:flex><span>    LineNumberTable:
</span></span><span style=display:flex><span>      line 10: 0
</span></span><span style=display:flex><span>      line 11: 24
</span></span><span style=display:flex><span>      line 10: 43
</span></span><span style=display:flex><span>      line 12: 47
</span></span><span style=display:flex><span>    LocalVariableTable:
</span></span><span style=display:flex><span>      Start  Length  Slot  Name   Signature
</span></span><span style=display:flex><span>          0      67     0  <span style=color:#66d9ef>this</span>   Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>summoner$;
</span></span><span style=display:flex><span>          0      67     1 evidence$1   Lcats<span style=color:#f92672>/</span>Applicative;
</span></span><span style=display:flex><span>          0      67     2 evidence$2   Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console;
</span></span><span style=display:flex><span>  Signature: <span style=color:#960050;background-color:#1e0010>#</span>49                          <span style=color:#75715e>// &lt;F:Ljava/lang/Object;&gt;(Lcats/Applicative&lt;TF;&gt;;Lcom/github/gvolpe/Console&lt;TF;&gt;;)TF;</span>
</span></span><span style=display:flex><span>  MethodParameters:
</span></span><span style=display:flex><span>    Name                           Flags
</span></span><span style=display:flex><span>    evidence$1                     <span style=color:#66d9ef>final</span>
</span></span><span style=display:flex><span>    evidence$2                     <span style=color:#66d9ef>final</span>
</span></span></code></pre></div><h4 id=implicit-values-program>Implicit values program</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#f92672>&lt;</span>F <span style=color:#66d9ef>extends</span> java.<span style=color:#a6e22e>lang</span>.<span style=color:#a6e22e>Object</span><span style=color:#f92672>&gt;</span> F <span style=color:#a6e22e>p2</span>(cats.<span style=color:#a6e22e>Applicative</span><span style=color:#f92672>&lt;</span>F<span style=color:#f92672>&gt;</span>, com.<span style=color:#a6e22e>github</span>.<span style=color:#a6e22e>gvolpe</span>.<span style=color:#a6e22e>Console</span><span style=color:#f92672>&lt;</span>F<span style=color:#f92672>&gt;</span>);
</span></span><span style=display:flex><span>  descriptor: (Lcats<span style=color:#f92672>/</span>Applicative;Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console;)Ljava<span style=color:#f92672>/</span>lang<span style=color:#f92672>/</span>Object;
</span></span><span style=display:flex><span>  flags: ACC_PUBLIC
</span></span><span style=display:flex><span>  Code:
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>=</span>4, locals<span style=color:#f92672>=</span>3, args_size<span style=color:#f92672>=</span>3
</span></span><span style=display:flex><span>       0: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>56                 <span style=color:#75715e>// Field cats/implicits$.MODULE$:Lcats/implicits$;</span>
</span></span><span style=display:flex><span>       3: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>56                 <span style=color:#75715e>// Field cats/implicits$.MODULE$:Lcats/implicits$;</span>
</span></span><span style=display:flex><span>       6: aload_2
</span></span><span style=display:flex><span>       7: ldc           <span style=color:#960050;background-color:#1e0010>#</span>90                 <span style=color:#75715e>// String 1</span>
</span></span><span style=display:flex><span>       9: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>73,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      14: aload_1
</span></span><span style=display:flex><span>      15: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>77                 <span style=color:#75715e>// Method cats/implicits$.catsSyntaxApply:(Ljava/lang/Object;Lcats/Apply;)Lcats/Apply$Ops;</span>
</span></span><span style=display:flex><span>      18: aload_2
</span></span><span style=display:flex><span>      19: ldc           <span style=color:#960050;background-color:#1e0010>#</span>92                 <span style=color:#75715e>// String 2</span>
</span></span><span style=display:flex><span>      21: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>73,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      26: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>82,  2           <span style=color:#75715e>// InterfaceMethod cats/Apply$Ops.$times$greater:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      31: aload_1
</span></span><span style=display:flex><span>      32: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>77                 <span style=color:#75715e>// Method cats/implicits$.catsSyntaxApply:(Ljava/lang/Object;Lcats/Apply;)Lcats/Apply$Ops;</span>
</span></span><span style=display:flex><span>      35: aload_2
</span></span><span style=display:flex><span>      36: ldc           <span style=color:#960050;background-color:#1e0010>#</span>94                 <span style=color:#75715e>// String 3</span>
</span></span><span style=display:flex><span>      38: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>73,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      43: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>82,  2           <span style=color:#75715e>// InterfaceMethod cats/Apply$Ops.$times$greater:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      48: areturn
</span></span><span style=display:flex><span>    LineNumberTable:
</span></span><span style=display:flex><span>      line 15: 0
</span></span><span style=display:flex><span>      line 16: 18
</span></span><span style=display:flex><span>      line 15: 31
</span></span><span style=display:flex><span>      line 17: 35
</span></span><span style=display:flex><span>    LocalVariableTable:
</span></span><span style=display:flex><span>      Start  Length  Slot  Name   Signature
</span></span><span style=display:flex><span>          0      49     0  <span style=color:#66d9ef>this</span>   Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>summoner$;
</span></span><span style=display:flex><span>          0      49     1 evidence$3   Lcats<span style=color:#f92672>/</span>Applicative;
</span></span><span style=display:flex><span>          0      49     2     c   Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console;
</span></span><span style=display:flex><span>  Signature: <span style=color:#960050;background-color:#1e0010>#</span>49                          <span style=color:#75715e>// &lt;F:Ljava/lang/Object;&gt;(Lcats/Applicative&lt;TF;&gt;;Lcom/github/gvolpe/Console&lt;TF;&gt;;)TF;</span>
</span></span><span style=display:flex><span>  MethodParameters:
</span></span><span style=display:flex><span>    Name                           Flags
</span></span><span style=display:flex><span>    ev                             <span style=color:#66d9ef>final</span>
</span></span><span style=display:flex><span>    c                              <span style=color:#66d9ef>final</span>
</span></span></code></pre></div><p>So the bytecode generated for the context bound approach has a few extra calls to <code>getstatic</code> and <code>invokevirtual</code> but what does this actually mean? Find below the definition given by <a href=https://en.wikipedia.org/wiki/Java_bytecode_instruction_listings>Wikipedia</a>:</p><ul><li><code>getstatic</code>: get a static field value of a class, where the field is identified by field reference in the constant pool index (indexbyte1 &#171; 8 + indexbyte2)</li><li><code>invokevirtual</code>: invoke virtual method on object objectref and puts the result on the stack (might be void); the method is identified by method reference index in constant pool (indexbyte1 &#171; 8 + indexbyte2)</li></ul><p>So, is it slower? How can we know? There&rsquo;s only one way&mldr;</p><h3 id=benchmark-it-all>Benchmark it all!</h3><p>When not sure about some performance question / issue, benchmark your code. Benchmarking is not easy but fortunately in the JVM we have a fantastic tool: <a href=https://openjdk.java.net/projects/code-tools/jmh/>Java Microbenchark Harness</a> or <code>JMH</code> for short.</p><p>Here are the simple benchmarks I wrote, calling each method thousand times via <code>replicateA</code> and measuring the throughput:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>import</span> cats.Id
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> cats.implicits._
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> org.openjdk.jmh.annotations._
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>benchmarks</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Benchmark</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@BenchmarkMode</span><span style=color:#f92672>(</span><span style=color:#a6e22e>Array</span><span style=color:#f92672>(</span><span style=color:#a6e22e>Mode</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Throughput</span><span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> contextBoundSummoner<span style=color:#f92672>()</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Unit</span> <span style=color:#f92672>=</span> p1<span style=color:#f92672>[</span><span style=color:#66d9ef>Id</span><span style=color:#f92672>].</span>replicateA<span style=color:#f92672>(</span><span style=color:#ae81ff>1000</span><span style=color:#f92672>).</span>void
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Benchmark</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@BenchmarkMode</span><span style=color:#f92672>(</span><span style=color:#a6e22e>Array</span><span style=color:#f92672>(</span><span style=color:#a6e22e>Mode</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Throughput</span><span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> evidenceSummoner<span style=color:#f92672>()</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Unit</span> <span style=color:#f92672>=</span> p2<span style=color:#f92672>[</span><span style=color:#66d9ef>Id</span><span style=color:#f92672>].</span>replicateA<span style=color:#f92672>(</span><span style=color:#ae81ff>1000</span><span style=color:#f92672>).</span>void
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>And these are the results, running with 20 iterations, 5 warm-up iterations, 1 fork and 1 thread:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sbt&gt; jmh:run -i <span style=color:#ae81ff>20</span> -wi <span style=color:#ae81ff>5</span> -f1 -t1
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> Benchmark              Mode  Cnt      Score     Error  Units
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> contextBoundSummoner  thrpt   <span style=color:#ae81ff>20</span>  15777.375 Â± 593.111  ops/s
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> evidenceSummoner      thrpt   <span style=color:#ae81ff>20</span>  17302.136 Â± 442.127  ops/s
</span></span></code></pre></div><h3 id=conclusion>Conclusion</h3><p>The difference is small enough to not be a performance concern so I would still recommend using the context bounds approach but remember to benchmark and deeply analyze your code before jumping to conclusions!</p><h3 id=update>Update</h3><p>After publishing it on <a href=https://twitter.com/volpegabriel87/status/1105330247086399488>Twitter</a> I&rsquo;ve got good feedback and some suggestions so here&rsquo;s the update.</p><h4 id=macro-based-summoner-imp>Macro-based summoner: imp</h4><p><a href=https://twitter.com/cbirchall>Chris Birchall</a> shared this interesting macro-based project named <a href=https://github.com/non/imp>imp</a> by <a href=https://twitter.com/d6>Erik Osheim</a> and I ran the same analysis with it.</p><p>First of all, the summoner was changed accordingly using the <code>summon</code> macro.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>object</span> <span style=color:#a6e22e>Console</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>import</span> imp.summon
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>import</span> language.experimental.macros
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> apply<span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>[</span><span style=color:#66d9ef>_</span><span style=color:#f92672>]</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>]</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>]</span> <span style=color:#66d9ef>=</span> macro summon<span style=color:#f92672>[</span><span style=color:#66d9ef>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>]]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>And here are the results of the benchmarks, running 20 iterations like before:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sbt&gt; jmh:run -i <span style=color:#ae81ff>20</span> -wi <span style=color:#ae81ff>5</span> -f1 -t1
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> Benchmark              Mode  Cnt      Score     Error  Units
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> contextBoundSummoner  thrpt   <span style=color:#ae81ff>20</span>  14881.788 Â± 626.458  ops/s
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> evidenceSummoner      thrpt   <span style=color:#ae81ff>20</span>  15039.118 Â± 411.016  ops/s
</span></span></code></pre></div><p>The macro-based solution was faster as it claims to be. The scores are almost identical and that&rsquo;s because the <em>JVM bytecode generated by both methods are exactly the same!</em> And effectively running the benchmarks more times gives similar results and sometimes the winner is the classic <code>evidenceSummoner</code>. So we can safely claim that both methods <code>p1</code> and <code>p2</code> are exactly the same for the JVM.</p><p>FWIW someone else <a href=https://github.com/DarkDimius/imp-bench>have run benchmarks</a> on <code>imp</code> before. They&rsquo;re slightly different though.</p><h4 id=inline-final>@inline final</h4><p><a href=https://twitter.com/pkhamutou>Pavel Khamutou</a> suggested adding the <code>@inline</code> keyword to the summoner and I have also made it <code>final</code> so here&rsquo;s how it looks like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>object</span> <span style=color:#a6e22e>Console</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@inline</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>def</span> apply<span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>[</span><span style=color:#66d9ef>_</span><span style=color:#f92672>]](</span><span style=color:#66d9ef>implicit</span> ev<span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>])</span><span style=color:#66d9ef>:</span> <span style=color:#66d9ef>Console</span><span style=color:#f92672>[</span><span style=color:#66d9ef>F</span><span style=color:#f92672>]</span> <span style=color:#66d9ef>=</span> ev
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Unfortunately the generated JVM bytecode was the same as without trying to inline it so the benchmark results were very similar to the first results.</p><h4 id=-optlinline---opt-inline-from-compiler-flags><code>-opt:l:inline</code> & <code>-opt-inline-from:**</code> compiler flags</h4><p><a href=https://twitter.com/kaidaxofficial>Kaidax</a> suggested turning on the inliner compiler flags as described in this <a href=https://developer.lightbend.com/blog/2018-11-01-the-scala-2.12-2.13-inliner-and-optimizer/index.html>Lightbend blog post</a>. At first I didn&rsquo;t see any results but after being pointed out on Reddit by <a href=https://www.reddit.com/user/zzyzzyxx>/u/zzyzzyxx</a> that I was doing it wrong (thanks!), I tried once again and the bytecode was effectively changed.</p><p>The calls to <code>invokevirtual</code> have been removed and a bunch of extra instructions have been added.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#f92672>&lt;</span>F <span style=color:#66d9ef>extends</span> java.<span style=color:#a6e22e>lang</span>.<span style=color:#a6e22e>Object</span><span style=color:#f92672>&gt;</span> F <span style=color:#a6e22e>p1</span>(cats.<span style=color:#a6e22e>Applicative</span><span style=color:#f92672>&lt;</span>F<span style=color:#f92672>&gt;</span>, com.<span style=color:#a6e22e>github</span>.<span style=color:#a6e22e>gvolpe</span>.<span style=color:#a6e22e>Console</span><span style=color:#f92672>&lt;</span>F<span style=color:#f92672>&gt;</span>);
</span></span><span style=display:flex><span>  descriptor: (Lcats<span style=color:#f92672>/</span>Applicative;Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console;)Ljava<span style=color:#f92672>/</span>lang<span style=color:#f92672>/</span>Object;
</span></span><span style=display:flex><span>  flags: ACC_PUBLIC
</span></span><span style=display:flex><span>  Code:
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>=</span>4, locals<span style=color:#f92672>=</span>3, args_size<span style=color:#f92672>=</span>3
</span></span><span style=display:flex><span>       0: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>56                 <span style=color:#75715e>// Field cats/implicits$.MODULE$:Lcats/implicits$;</span>
</span></span><span style=display:flex><span>       3: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>56                 <span style=color:#75715e>// Field cats/implicits$.MODULE$:Lcats/implicits$;</span>
</span></span><span style=display:flex><span>       6: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>61                 <span style=color:#75715e>// Field com/github/gvolpe/Console$.MODULE$:Lcom/github/gvolpe/Console$;</span>
</span></span><span style=display:flex><span>       9: ifnonnull     14
</span></span><span style=display:flex><span>      12: aconst_null
</span></span><span style=display:flex><span>      13: athrow
</span></span><span style=display:flex><span>      14: aload_2
</span></span><span style=display:flex><span>      15: ldc           <span style=color:#960050;background-color:#1e0010>#</span>63                 <span style=color:#75715e>// String a</span>
</span></span><span style=display:flex><span>      17: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>69,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      22: aload_1
</span></span><span style=display:flex><span>      23: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>73                 <span style=color:#75715e>// Method cats/implicits$.catsSyntaxApply:(Ljava/lang/Object;Lcats/Apply;)Lcats/Apply$Ops;</span>
</span></span><span style=display:flex><span>      26: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>61                 <span style=color:#75715e>// Field com/github/gvolpe/Console$.MODULE$:Lcom/github/gvolpe/Console$;</span>
</span></span><span style=display:flex><span>      29: ifnonnull     34
</span></span><span style=display:flex><span>      32: aconst_null
</span></span><span style=display:flex><span>      33: athrow
</span></span><span style=display:flex><span>      34: aload_2
</span></span><span style=display:flex><span>      35: ldc           <span style=color:#960050;background-color:#1e0010>#</span>75                 <span style=color:#75715e>// String b</span>
</span></span><span style=display:flex><span>      37: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>69,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      42: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>78,  2           <span style=color:#75715e>// InterfaceMethod cats/Apply$Ops.$times$greater:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      47: aload_1
</span></span><span style=display:flex><span>      48: invokevirtual <span style=color:#960050;background-color:#1e0010>#</span>73                 <span style=color:#75715e>// Method cats/implicits$.catsSyntaxApply:(Ljava/lang/Object;Lcats/Apply;)Lcats/Apply$Ops;</span>
</span></span><span style=display:flex><span>      51: getstatic     <span style=color:#960050;background-color:#1e0010>#</span>61                 <span style=color:#75715e>// Field com/github/gvolpe/Console$.MODULE$:Lcom/github/gvolpe/Console$;</span>
</span></span><span style=display:flex><span>      54: ifnonnull     59
</span></span><span style=display:flex><span>      57: aconst_null
</span></span><span style=display:flex><span>      58: athrow
</span></span><span style=display:flex><span>      59: aload_2
</span></span><span style=display:flex><span>      60: ldc           <span style=color:#960050;background-color:#1e0010>#</span>80                 <span style=color:#75715e>// String c</span>
</span></span><span style=display:flex><span>      62: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>69,  2           <span style=color:#75715e>// InterfaceMethod com/github/gvolpe/Console.putStrLn:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      67: invokeinterface <span style=color:#960050;background-color:#1e0010>#</span>78,  2           <span style=color:#75715e>// InterfaceMethod cats/Apply$Ops.$times$greater:(Ljava/lang/Object;)Ljava/lang/Object;</span>
</span></span><span style=display:flex><span>      72: areturn
</span></span><span style=display:flex><span>    StackMapTable: number_of_entries <span style=color:#f92672>=</span> 3
</span></span><span style=display:flex><span>      frame_type <span style=color:#f92672>=</span> 255 <span style=color:#75715e>/* full_frame */</span>
</span></span><span style=display:flex><span>        offset_delta <span style=color:#f92672>=</span> 14
</span></span><span style=display:flex><span>        locals <span style=color:#f92672>=</span> <span style=color:#f92672>[</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>com</span><span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>summoner$, <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>cats</span><span style=color:#f92672>/</span>Applicative, <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>com</span><span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>        stack <span style=color:#f92672>=</span> <span style=color:#f92672>[</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>cats</span><span style=color:#f92672>/</span>implicits$, <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>cats</span><span style=color:#f92672>/</span>implicits$ <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>      frame_type <span style=color:#f92672>=</span> 255 <span style=color:#75715e>/* full_frame */</span>
</span></span><span style=display:flex><span>        offset_delta <span style=color:#f92672>=</span> 19
</span></span><span style=display:flex><span>        locals <span style=color:#f92672>=</span> <span style=color:#f92672>[</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>com</span><span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>summoner$, <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>cats</span><span style=color:#f92672>/</span>Applicative, <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>com</span><span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>        stack <span style=color:#f92672>=</span> <span style=color:#f92672>[</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>cats</span><span style=color:#f92672>/</span>implicits$, <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>cats</span><span style=color:#f92672>/</span>Apply$Ops <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>      frame_type <span style=color:#f92672>=</span> 88 <span style=color:#75715e>/* same_locals_1_stack_item */</span>
</span></span><span style=display:flex><span>        stack <span style=color:#f92672>=</span> <span style=color:#f92672>[</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>cats</span><span style=color:#f92672>/</span>Apply$Ops <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    LineNumberTable:
</span></span><span style=display:flex><span>      line 10: 0
</span></span><span style=display:flex><span>      line 34: 14
</span></span><span style=display:flex><span>      line 10: 14
</span></span><span style=display:flex><span>      line 11: 26
</span></span><span style=display:flex><span>      line 34: 34
</span></span><span style=display:flex><span>      line 11: 34
</span></span><span style=display:flex><span>      line 10: 47
</span></span><span style=display:flex><span>      line 12: 51
</span></span><span style=display:flex><span>      line 34: 59
</span></span><span style=display:flex><span>      line 12: 59
</span></span><span style=display:flex><span>    LocalVariableTable:
</span></span><span style=display:flex><span>      Start  Length  Slot  Name   Signature
</span></span><span style=display:flex><span>          0      73     0  <span style=color:#66d9ef>this</span>   Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>summoner$;
</span></span><span style=display:flex><span>          0      73     1 evidence$1   Lcats<span style=color:#f92672>/</span>Applicative;
</span></span><span style=display:flex><span>          0      73     2 evidence$2   Lcom<span style=color:#f92672>/</span>github<span style=color:#f92672>/</span>gvolpe<span style=color:#f92672>/</span>Console;
</span></span><span style=display:flex><span>  Signature: <span style=color:#960050;background-color:#1e0010>#</span>49                          <span style=color:#75715e>// &lt;F:Ljava/lang/Object;&gt;(Lcats/Applicative&lt;TF;&gt;;Lcom/github/gvolpe/Console&lt;TF;&gt;;)TF;</span>
</span></span><span style=display:flex><span>  MethodParameters:
</span></span><span style=display:flex><span>    Name                           Flags
</span></span><span style=display:flex><span>    evidence$1                     <span style=color:#66d9ef>final</span>
</span></span><span style=display:flex><span>    evidence$2                     <span style=color:#66d9ef>final</span>
</span></span></code></pre></div><p>The benchmark results show that it has effectively been optimized:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sbt&gt; jmh:run -i <span style=color:#ae81ff>20</span> -wi <span style=color:#ae81ff>5</span> -f1 -t1
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> Benchmark             Mode  Cnt      Score     Error  Units
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> contextBoundSummoner  thrpt   <span style=color:#ae81ff>20</span>  16330.873 Â± 462.765  ops/s
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>info<span style=color:#f92672>]</span> evidenceSummoner      thrpt   <span style=color:#ae81ff>20</span>  15768.175 Â± 587.291  ops/s
</span></span></code></pre></div><h4 id=benchmarking-machine>Benchmarking machine</h4><p>The benchmarks have run on a Ubuntu 18.04 LTS, 16 GB RAM and IntelÂ® Coreâ„¢ i7-8550U CPU @ 1.80GHz Ã— 8 machine on Java Oracleâ„¢ 8:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Java<span style=color:#f92672>(</span>TM<span style=color:#f92672>)</span> SE Runtime Environment <span style=color:#f92672>(</span>build 1.8.0_161-b12<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Java HotSpot<span style=color:#f92672>(</span>TM<span style=color:#f92672>)</span> 64-Bit Server VM <span style=color:#f92672>(</span>build 25.161-b12, mixed mode<span style=color:#f92672>)</span>
</span></span></code></pre></div><h4 id=source-code>Source code</h4><p>Try it out yourself: <a href=https://github.com/gvolpe/summoner-benchmarks>https://github.com/gvolpe/summoner-benchmarks</a></p><h3 id=conclusion-2>Conclusion #2</h3><p>The conclusion remains the same. Context bound constraints are my favorite and as demonstrated have very little overhead. Using the macro-based solution is interesting but if you really care about that level of performance maybe the JVM isn&rsquo;t what you&rsquo;re looking for? :)</p><p><em><strong>Thank you all for your amazing feedback!</strong></em></p></div><div class=related-posts><h3>Related Content</h3><div class=related-grid><div class=related-post><h4><a href=https://gvolpe.com/talks/tokyo-2020/>Haskell for Scala devs @ Tokyo Scala Meetup 2019 - Tokyo, JP ðŸ‡¯ðŸ‡µ</a></h4><div class=related-meta>2019.02.01 â€¢
â˜• 1 min read</div></div><div class=related-post><h4><a href=https://gvolpe.com/talks/scala-exchange-2018/>Cats Effect: Tagless Final & Beyond! @ Scala eXchange 2018 - London, UK ðŸ‡¬ðŸ‡§</a></h4><div class=related-meta>2018.12.13 â€¢
â˜• 1 min read</div></div><div class=related-post><h4><a href=https://gvolpe.com/talks/sbtb-2018/>Classy Lenses @ Scale By The Bay 2018 - San Francisco, US ðŸ‡ºðŸ‡¸</a></h4><div class=related-meta>2018.11.22 â€¢
â˜• 1 min read</div></div></div></div><nav class=post-navigation><div></div><div class=nav-next><span class=nav-label>Next â†’</span>
<a href=https://gvolpe.com/blog/lessons-learned-while-writing-a-haskell-app/ class=nav-title>Lessons learned while writing a Haskell application</a></div></nav></article></div></div></div></main><script src=https://gvolpe.com/js/main.js></script></body></html>